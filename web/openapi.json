{"openapi": "3.1.0", "info": {"title": "Fast Data Agent", "description": "\u57fa\u4e8e LangGraph \u7684 AI \u6570\u636e\u5206\u6790\u5e73\u53f0", "version": "1.0.0"}, "paths": {"/": {"get": {"tags": ["Root"], "summary": "Root", "description": "\u6839\u8def\u5f84\uff0c\u5065\u5eb7\u68c0\u67e5", "operationId": "root__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/health": {"get": {"tags": ["Root"], "summary": "Health Check", "description": "\u5065\u5eb7\u68c0\u67e5\u63a5\u53e3", "operationId": "health_check_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/v1/auth/login": {"post": {"tags": ["auth"], "summary": "Login", "description": "\u7528\u6237\u767b\u5f55", "operationId": "login_api_v1_auth_login_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_Token_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/refresh": {"post": {"tags": ["auth"], "summary": "Refresh Token", "description": "\u5237\u65b0\u8bbf\u95ee\u4ee4\u724c", "operationId": "refresh_token_api_v1_auth_refresh_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RefreshTokenRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_Token_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/register": {"post": {"tags": ["auth"], "summary": "Register", "description": "\u7528\u6237\u6ce8\u518c", "operationId": "register_api_v1_auth_register_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCreate"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UserResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/me": {"get": {"tags": ["auth"], "summary": "Get Current User Info", "description": "\u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u4fe1\u606f", "operationId": "get_current_user_info_api_v1_auth_me_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UserResponse_"}}}}}, "security": [{"HTTPBearer": []}]}, "put": {"tags": ["auth"], "summary": "Update Current User", "description": "\u66f4\u65b0\u5f53\u524d\u767b\u5f55\u7528\u6237\u4fe1\u606f", "operationId": "update_current_user_api_v1_auth_me_put", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserUpdate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UserResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}]}}, "/api/v1/auth/change-password": {"post": {"tags": ["auth"], "summary": "Change Password", "description": "\u4fee\u6539\u5bc6\u7801", "operationId": "change_password_api_v1_auth_change_password_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PasswordChange"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}]}}, "/api/v1/users": {"get": {"tags": ["users"], "summary": "Get Users", "description": "\u83b7\u53d6\u7528\u6237\u5217\u8868\uff08\u5206\u9875\uff09- \u9700\u8981\u8d85\u7ea7\u7ba1\u7406\u5458\u6743\u9650", "operationId": "get_users_api_v1_users_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}, {"name": "keyword", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Keyword"}}, {"name": "is_active", "in": "query", "required": false, "schema": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active"}}, {"name": "is_superuser", "in": "query", "required": false, "schema": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Superuser"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_UserResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["users"], "summary": "Create User", "description": "\u521b\u5efa\u65b0\u7528\u6237 - \u9700\u8981\u8d85\u7ea7\u7ba1\u7406\u5458\u6743\u9650", "operationId": "create_user_api_v1_users_post", "security": [{"HTTPBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UserResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/{user_id}": {"get": {"tags": ["users"], "summary": "Get User", "description": "\u83b7\u53d6\u5355\u4e2a\u7528\u6237\u8be6\u60c5 - \u9700\u8981\u8d85\u7ea7\u7ba1\u7406\u5458\u6743\u9650", "operationId": "get_user_api_v1_users__user_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "User Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UserResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["users"], "summary": "Update User", "description": "\u66f4\u65b0\u7528\u6237\u4fe1\u606f - \u9700\u8981\u8d85\u7ea7\u7ba1\u7406\u5458\u6743\u9650", "operationId": "update_user_api_v1_users__user_id__put", "security": [{"HTTPBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "User Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UserResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["users"], "summary": "Delete User", "description": "\u5220\u9664\u7528\u6237\uff08\u903b\u8f91\u5220\u9664\uff09- \u9700\u8981\u8d85\u7ea7\u7ba1\u7406\u5458\u6743\u9650", "operationId": "delete_user_api_v1_users__user_id__delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "User Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/database-connections": {"get": {"tags": ["database-connections"], "summary": "Get Connections", "description": "\u83b7\u53d6\u6570\u636e\u5e93\u8fde\u63a5\u5217\u8868\uff08\u5206\u9875\uff09", "operationId": "get_connections_api_v1_database_connections_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "keyword", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Keyword"}}, {"name": "db_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Db Type"}}, {"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_DatabaseConnectionResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["database-connections"], "summary": "Create Connection", "description": "\u521b\u5efa\u6570\u636e\u5e93\u8fde\u63a5", "operationId": "create_connection_api_v1_database_connections_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "auto_create_raw_data", "in": "query", "required": false, "schema": {"type": "boolean", "default": true, "title": "Auto Create Raw Data"}}, {"name": "auto_sync_raw_data", "in": "query", "required": false, "schema": {"type": "boolean", "default": true, "title": "Auto Sync Raw Data"}}, {"name": "max_auto_tables", "in": "query", "required": false, "schema": {"type": "integer", "default": 20, "title": "Max Auto Tables"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DatabaseConnectionCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DatabaseConnectionWithRawResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/database-connections/{connection_id}": {"get": {"tags": ["database-connections"], "summary": "Get Connection", "description": "\u83b7\u53d6\u5355\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u8be6\u60c5", "operationId": "get_connection_api_v1_database_connections__connection_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "connection_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Connection Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DatabaseConnectionResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["database-connections"], "summary": "Update Connection", "description": "\u66f4\u65b0\u6570\u636e\u5e93\u8fde\u63a5", "operationId": "update_connection_api_v1_database_connections__connection_id__put", "security": [{"HTTPBearer": []}], "parameters": [{"name": "connection_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Connection Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DatabaseConnectionUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DatabaseConnectionResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["database-connections"], "summary": "Delete Connection", "description": "\u5220\u9664\u6570\u636e\u5e93\u8fde\u63a5", "operationId": "delete_connection_api_v1_database_connections__connection_id__delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "connection_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Connection Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/database-connections/{connection_id}/test": {"post": {"tags": ["database-connections"], "summary": "Test Connection", "description": "\u6d4b\u8bd5\u6570\u636e\u5e93\u8fde\u63a5", "operationId": "test_connection_api_v1_database_connections__connection_id__test_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "connection_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Connection Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DatabaseConnectionTestResult_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/database-connections/{connection_id}/tables": {"get": {"tags": ["database-connections"], "summary": "Get Connection Tables", "description": "\u83b7\u53d6\u6570\u636e\u5e93\u8fde\u63a5\u7684\u8868\u5217\u8868", "operationId": "get_connection_tables_api_v1_database_connections__connection_id__tables_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "connection_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Connection Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DatabaseConnectionTablesResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/database-connections/{connection_id}/schema": {"get": {"tags": ["database-connections"], "summary": "Get Connection Table Schema", "description": "\u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5217\u7ed3\u6784", "operationId": "get_connection_table_schema_api_v1_database_connections__connection_id__schema_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "connection_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Connection Id"}}, {"name": "schema_name", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Schema Name"}}, {"name": "table_name", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Table Name"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DatabaseTableSchemaResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/raw-data": {"get": {"tags": ["raw-data"], "summary": "Get Raw Data List", "description": "\u83b7\u53d6\u539f\u59cb\u6570\u636e\u5217\u8868\uff08\u5206\u9875\uff09", "operationId": "get_raw_data_list_api_v1_raw_data_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}, {"name": "keyword", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Keyword"}}, {"name": "raw_type", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/RawDataType"}, {"type": "null"}], "title": "Raw Type"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_RawDataResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["raw-data"], "summary": "Create Raw Data", "description": "\u521b\u5efa\u539f\u59cb\u6570\u636e", "operationId": "create_raw_data_api_v1_raw_data_post", "security": [{"HTTPBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RawDataCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_RawDataResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/raw-data/{raw_data_id}": {"get": {"tags": ["raw-data"], "summary": "Get Raw Data", "description": "\u83b7\u53d6\u5355\u4e2a\u539f\u59cb\u6570\u636e\u8be6\u60c5", "operationId": "get_raw_data_api_v1_raw_data__raw_data_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "raw_data_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Raw Data Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_RawDataResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["raw-data"], "summary": "Update Raw Data", "description": "\u66f4\u65b0\u539f\u59cb\u6570\u636e", "operationId": "update_raw_data_api_v1_raw_data__raw_data_id__put", "security": [{"HTTPBearer": []}], "parameters": [{"name": "raw_data_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Raw Data Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RawDataUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_RawDataResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["raw-data"], "summary": "Delete Raw Data", "description": "\u5220\u9664\u539f\u59cb\u6570\u636e", "operationId": "delete_raw_data_api_v1_raw_data__raw_data_id__delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "raw_data_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Raw Data Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/raw-data/batch-from-connection": {"post": {"tags": ["raw-data"], "summary": "Batch Create Raw Data", "description": "\u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6279\u91cf\u521b\u5efa\u539f\u59cb\u6570\u636e\n\n\u7528\u6237\u53ef\u4ee5\u4e00\u6b21\u6027\u4ece\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u4e2d\u9009\u62e9\u591a\u4e2a\u8868\u521b\u5efa\u539f\u59cb\u6570\u636e", "operationId": "batch_create_raw_data_api_v1_raw_data_batch_from_connection_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/BatchCreateFromConnectionRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_BatchCreateFromConnectionResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}]}}, "/api/v1/raw-data/{raw_data_id}/columns": {"put": {"tags": ["raw-data"], "summary": "Update Raw Data Columns", "description": "\u66f4\u65b0\u539f\u59cb\u6570\u636e\u5217\u7c7b\u578b\uff08\u7528\u6237\u4fee\u6b63\uff09", "operationId": "update_raw_data_columns_api_v1_raw_data__raw_data_id__columns_put", "security": [{"HTTPBearer": []}], "parameters": [{"name": "raw_data_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Raw Data Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RawDataColumnUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_RawDataResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/raw-data/{raw_data_id}/preview": {"post": {"tags": ["raw-data"], "summary": "Preview Raw Data", "description": "\u9884\u89c8\u539f\u59cb\u6570\u636e\uff08\u62bd\u6837\uff09\n\n\u4ece\u6570\u636e\u5e93\u8868\u6216\u6587\u4ef6\u4e2d\u62bd\u6837\u6570\u636e\uff0c\u5e76\u63a8\u65ad\u5217\u7c7b\u578b", "operationId": "preview_raw_data_api_v1_raw_data__raw_data_id__preview_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "raw_data_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Raw Data Id"}}], "requestBody": {"content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/RawDataPreviewRequest"}, {"type": "null"}], "title": "Request"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_RawDataPreviewResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/raw-data/{raw_data_id}/sync": {"post": {"tags": ["raw-data"], "summary": "Sync Raw Data", "description": "\u540c\u6b65\u539f\u59cb\u6570\u636e Schema\n\n\u4ece\u6570\u636e\u6e90\u83b7\u53d6\u6700\u65b0\u7684\u5217\u7ed3\u6784\u4fe1\u606f", "operationId": "sync_raw_data_api_v1_raw_data__raw_data_id__sync_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "raw_data_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Raw Data Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_RawDataResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/data-sources": {"get": {"tags": ["data-sources"], "summary": "Get Data Sources", "description": "\u83b7\u53d6\u6570\u636e\u6e90\u5217\u8868\uff08\u5206\u9875\uff09", "operationId": "get_data_sources_api_v1_data_sources_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}, {"name": "keyword", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Keyword"}}, {"name": "category", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/DataSourceCategory"}, {"type": "null"}], "title": "Category"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_DataSourceResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["data-sources"], "summary": "Create Data Source", "description": "\u521b\u5efa\u6570\u636e\u6e90", "operationId": "create_data_source_api_v1_data_sources_post", "security": [{"HTTPBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataSourceCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DataSourceResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/data-sources/{data_source_id}": {"get": {"tags": ["data-sources"], "summary": "Get Data Source", "description": "\u83b7\u53d6\u5355\u4e2a\u6570\u636e\u6e90\u8be6\u60c5\uff08\u5305\u542b\u6620\u5c04\u4fe1\u606f\uff09", "operationId": "get_data_source_api_v1_data_sources__data_source_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "data_source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Data Source Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DataSourceResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["data-sources"], "summary": "Update Data Source", "description": "\u66f4\u65b0\u6570\u636e\u6e90", "operationId": "update_data_source_api_v1_data_sources__data_source_id__put", "security": [{"HTTPBearer": []}], "parameters": [{"name": "data_source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Data Source Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataSourceUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DataSourceResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["data-sources"], "summary": "Delete Data Source", "description": "\u5220\u9664\u6570\u636e\u6e90", "operationId": "delete_data_source_api_v1_data_sources__data_source_id__delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "data_source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Data Source Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/data-sources/{data_source_id}/preview": {"post": {"tags": ["data-sources"], "summary": "Preview Data Source", "description": "\u9884\u89c8\u6570\u636e\u6e90\uff08\u5408\u5e76\u540e\u7684\u6570\u636e\uff09\n\n\u6839\u636e\u5b57\u6bb5\u6620\u5c04\uff0c\u4ece\u5404 RawData \u83b7\u53d6\u6570\u636e\u5e76\u5408\u5e76\u5c55\u793a", "operationId": "preview_data_source_api_v1_data_sources__data_source_id__preview_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "data_source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Data Source Id"}}], "requestBody": {"content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/DataSourcePreviewRequest"}, {"type": "null"}], "title": "Request"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DataSourcePreviewResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/data-sources/suggest-mappings": {"post": {"tags": ["data-sources"], "summary": "Suggest Field Mappings", "description": "\u667a\u80fd\u5b57\u6bb5\u6620\u5c04\u5efa\u8bae\n\n\u6839\u636e\u76ee\u6807\u5b57\u6bb5\u548c\u539f\u59cb\u6570\u636e\u7684\u5217\u4fe1\u606f\uff0c\u63a8\u8350\u6700\u4f73\u7684\u5b57\u6bb5\u6620\u5c04\u5173\u7cfb\u3002\n\u57fa\u4e8e\u5b57\u6bb5\u540d\u76f8\u4f3c\u5ea6\u3001\u540c\u4e49\u8bcd\u5339\u914d\u548c\u6570\u636e\u7c7b\u578b\u517c\u5bb9\u6027\u8fdb\u884c\u5339\u914d\u3002", "operationId": "suggest_field_mappings_api_v1_data_sources_suggest_mappings_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SuggestMappingsRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_SuggestMappingsResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}]}}, "/api/v1/data-sources/suggest-target-fields": {"post": {"tags": ["data-sources"], "summary": "Suggest Target Fields", "description": "\u4ece\u539f\u59cb\u6570\u636e\u63a8\u65ad\u76ee\u6807\u5b57\u6bb5\n\n\u5206\u6790\u591a\u4e2a RawData \u7684\u5217\u7ed3\u6784\uff0c\u5408\u5e76\u63a8\u65ad\u51fa\u6700\u4f73\u7684\u76ee\u6807\u5b57\u6bb5\u5b9a\u4e49\u3002", "operationId": "suggest_target_fields_api_v1_data_sources_suggest_target_fields_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SuggestTargetFieldsRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_SuggestTargetFieldsResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}]}}, "/api/v1/data-sources/{data_source_id}/refresh-schema": {"post": {"tags": ["data-sources"], "summary": "Refresh Data Source Schema", "description": "\u5237\u65b0\u6570\u636e\u6e90 Schema\n\n\u91cd\u65b0\u4ece\u5404 RawData \u83b7\u53d6\u5217\u4fe1\u606f\u5e76\u66f4\u65b0 schema_cache", "operationId": "refresh_data_source_schema_api_v1_data_sources__data_source_id__refresh_schema_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "data_source_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Data Source Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_DataSourceResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/files": {"get": {"tags": ["files"], "summary": "Get Files", "description": "\u83b7\u53d6\u6587\u4ef6\u5217\u8868\uff08\u5206\u9875\uff09", "operationId": "get_files_api_v1_files_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}, {"name": "keyword", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Keyword"}}, {"name": "file_type", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/FileType"}, {"type": "null"}], "title": "File Type"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_UploadedFileResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/files/{file_id}": {"get": {"tags": ["files"], "summary": "Get File", "description": "\u83b7\u53d6\u5355\u4e2a\u6587\u4ef6\u8be6\u60c5", "operationId": "get_file_api_v1_files__file_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "file_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "File Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UploadedFileResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["files"], "summary": "Delete File", "description": "\u5220\u9664\u6587\u4ef6", "operationId": "delete_file_api_v1_files__file_id__delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "file_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "File Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/files/upload": {"post": {"tags": ["files"], "summary": "Upload File", "description": "\u4e0a\u4f20\u6587\u4ef6\n\n\u81ea\u52a8\u521b\u5efa\u5bf9\u5e94\u7684 RawData\uff08\u53ef\u901a\u8fc7 auto_create_raw_data \u53c2\u6570\u63a7\u5236\uff09", "operationId": "upload_file_api_v1_files_upload_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "auto_create_raw_data", "in": "query", "required": false, "schema": {"type": "boolean", "default": true, "title": "Auto Create Raw Data"}}], "requestBody": {"required": true, "content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_upload_file_api_v1_files_upload_post"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_UploadedFileWithRawDataResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/files/{file_id}/preview": {"get": {"tags": ["files"], "summary": "Get File Preview", "description": "\u83b7\u53d6\u6587\u4ef6\u9884\u89c8", "operationId": "get_file_preview_api_v1_files__file_id__preview_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "file_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "File Id"}}, {"name": "rows", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Rows"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_FilePreviewResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/files/{file_id}/download-url": {"get": {"tags": ["files"], "summary": "Get Download Url", "description": "\u83b7\u53d6\u6587\u4ef6\u4e0b\u8f7d URL", "operationId": "get_download_url_api_v1_files__file_id__download_url_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "file_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "File Id"}}, {"name": "expires", "in": "query", "required": false, "schema": {"type": "integer", "default": 3600, "title": "Expires"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_str_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions": {"get": {"tags": ["sessions"], "summary": "Get Sessions", "description": "\u83b7\u53d6\u4f1a\u8bdd\u5217\u8868\uff08\u5206\u9875\uff09", "operationId": "get_sessions_api_v1_sessions_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}, {"name": "keyword", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Keyword"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_AnalysisSessionResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["sessions"], "summary": "Create Session", "description": "\u521b\u5efa\u4f1a\u8bdd", "operationId": "create_session_api_v1_sessions_post", "security": [{"HTTPBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AnalysisSessionCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_AnalysisSessionResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}": {"get": {"tags": ["sessions"], "summary": "Get Session", "description": "\u83b7\u53d6\u5355\u4e2a\u4f1a\u8bdd\u8be6\u60c5\uff08\u5305\u542b\u6570\u636e\u6e90\u4fe1\u606f\uff09", "operationId": "get_session_api_v1_sessions__session_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_AnalysisSessionDetail_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["sessions"], "summary": "Update Session", "description": "\u66f4\u65b0\u4f1a\u8bdd", "operationId": "update_session_api_v1_sessions__session_id__put", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AnalysisSessionUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_AnalysisSessionResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["sessions"], "summary": "Delete Session", "description": "\u5220\u9664\u4f1a\u8bdd", "operationId": "delete_session_api_v1_sessions__session_id__delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/archive": {"post": {"tags": ["sessions"], "summary": "Archive Session", "description": "\u5f52\u6863\u4f1a\u8bdd", "operationId": "archive_session_api_v1_sessions__session_id__archive_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_AnalysisSessionResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/files/upload": {"post": {"tags": ["sessions"], "summary": "Upload Session File", "description": "\u4e0a\u4f20\u6587\u4ef6\u5230\u4f1a\u8bdd\u76ee\u5f55\n\n\u7528\u4e8e\u4e0a\u4f20\u4e34\u65f6\u6570\u636e\u6587\u4ef6\u4f9b AI \u5206\u6790\u4f7f\u7528\u3002\n\u6587\u4ef6\u4f1a\u4fdd\u5b58\u5230\u6c99\u76d2\u7684\u4f1a\u8bdd\u76ee\u5f55\u4e2d\u3002", "operationId": "upload_session_file_api_v1_sessions__session_id__files_upload_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_upload_session_file_api_v1_sessions__session_id__files_upload_post"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_dict_str__Any__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/files": {"get": {"tags": ["sessions"], "summary": "List Session Files", "description": "\u5217\u51fa\u4f1a\u8bdd\u6587\u4ef6\n\n\u8fd4\u56de\u4f1a\u8bdd\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5305\u62ec\uff1a\n- \u7528\u6237\u4e0a\u4f20\u7684\u6570\u636e\u6587\u4ef6\n- SQL \u67e5\u8be2\u7ed3\u679c\u7684 parquet \u7f13\u5b58\n- \u751f\u6210\u7684\u56fe\u8868\u6587\u4ef6\n- \u5176\u4ed6\u5206\u6790\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u6587\u4ef6", "operationId": "list_session_files_api_v1_sessions__session_id__files_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_dict_str__Any__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/files/{filename}": {"get": {"tags": ["sessions"], "summary": "Download Session File", "description": "\u4e0b\u8f7d\u4f1a\u8bdd\u6587\u4ef6\n\nArgs:\n    session_id: \u4f1a\u8bdd ID\n    filename: \u6587\u4ef6\u540d\uff08\u76f8\u5bf9\u4e8e\u4f1a\u8bdd\u76ee\u5f55\u7684\u8def\u5f84\uff09", "operationId": "download_session_file_api_v1_sessions__session_id__files__filename__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}, {"name": "filename", "in": "path", "required": true, "schema": {"type": "string", "title": "Filename"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/chat": {"post": {"tags": ["chat"], "summary": "Chat", "description": "\u53d1\u9001\u6d88\u606f\u5e76\u83b7\u53d6 AI \u54cd\u5e94\uff08SSE \u6d41\u5f0f\uff09\n\n\u517c\u5bb9 Vercel AI SDK useChat hook\uff0c\u4f7f\u7528 Data Stream Protocol\u3002\n\n## \u6d41\u534f\u8bae\n\n\u4f7f\u7528 SSE `data:` \u683c\u5f0f\uff0c\u901a\u8fc7 JSON \u7684 `type` \u5b57\u6bb5\u533a\u5206\u4e8b\u4ef6\u7c7b\u578b\u3002\n\n### \u6d88\u606f\u5f00\u59cb\n```\ndata: {\"type\":\"start\",\"messageId\":\"msg_xxx\"}\n```\n\n### \u6587\u672c\u6d41 (start/delta/end \u6a21\u5f0f)\n```\ndata: {\"type\":\"text-start\",\"id\":\"text_xxx\"}\ndata: {\"type\":\"text-delta\",\"id\":\"text_xxx\",\"delta\":\"\u4f60\u597d\"}\ndata: {\"type\":\"text-end\",\"id\":\"text_xxx\"}\n```\n\n### \u5de5\u5177\u8c03\u7528\n```\ndata: {\"type\":\"tool-input-start\",\"toolCallId\":\"call_xxx\",\"toolName\":\"execute_sql\"}\ndata: {\"type\":\"tool-input-available\",\"toolCallId\":\"call_xxx\",\"toolName\":\"execute_sql\",\"input\":{...}}\n```\n\n### \u5de5\u5177\u7ed3\u679c\n```\ndata: {\"type\":\"tool-output-available\",\"toolCallId\":\"call_xxx\",\"output\":{...},\"artifact\":{...}}\n```\n\n### \u6b65\u9aa4\u63a7\u5236\n```\ndata: {\"type\":\"start-step\"}\ndata: {\"type\":\"finish-step\"}\ndata: {\"type\":\"finish\"}\n```\n\n### \u9519\u8bef\n```\ndata: {\"type\":\"error\",\"errorText\":\"...\"}\n```\n\n### \u6d41\u7ed3\u675f\n```\ndata: [DONE]\n```\n\n\u53c2\u8003: https://ai-sdk.dev/docs/ai-sdk-ui/stream-protocol", "operationId": "chat_api_v1_sessions__session_id__chat_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChatMessageCreate"}}}}, "responses": {"200": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/messages": {"get": {"tags": ["chat"], "summary": "Get Messages", "description": "\u83b7\u53d6\u4f1a\u8bdd\u7684\u5386\u53f2\u6d88\u606f\uff08\u5206\u9875\uff09\n\n\u8fd4\u56de\u6d88\u606f\u5217\u8868\uff0c\u6309\u521b\u5efa\u65f6\u95f4\u5347\u5e8f\u6392\u5217", "operationId": "get_messages_api_v1_sessions__session_id__messages_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}, {"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_ChatMessageResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["chat"], "summary": "Clear Messages", "description": "\u6e05\u7a7a\u4f1a\u8bdd\u7684\u6240\u6709\u6d88\u606f", "operationId": "clear_messages_api_v1_sessions__session_id__messages_delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_int_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/recommendations": {"get": {"tags": ["recommendations"], "summary": "Get Recommendations", "description": "\u83b7\u53d6\u4f1a\u8bdd\u7684\u63a8\u8350\u5217\u8868\uff08\u5206\u9875\uff09", "operationId": "get_recommendations_api_v1_sessions__session_id__recommendations_get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}, {"name": "status_filter", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status Filter"}}, {"name": "source_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Source Type"}}, {"name": "page_num", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page Num"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 10, "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_PageResponse_TaskRecommendationResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["recommendations"], "summary": "Generate Recommendations", "description": "\u751f\u6210\u521d\u59cb\u4efb\u52a1\u63a8\u8350\n\n\u57fa\u4e8e\u4f1a\u8bdd\u5173\u8054\u7684\u6570\u636e\u6e90 Schema \u751f\u6210\u5206\u6790\u4efb\u52a1\u63a8\u8350", "operationId": "generate_recommendations_api_v1_sessions__session_id__recommendations_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "requestBody": {"content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/GenerateRecommendationsRequest"}, {"type": "null"}], "title": "Data"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_list_TaskRecommendationResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["recommendations"], "summary": "Dismiss All Recommendations", "description": "\u6279\u91cf\u5ffd\u7565\u4f1a\u8bdd\u4e2d\u7684\u5f85\u9009\u62e9\u63a8\u8350", "operationId": "dismiss_all_recommendations_api_v1_sessions__session_id__recommendations_delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}, {"name": "source_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Source Type"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_NoneType_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/recommendations/followup": {"post": {"tags": ["recommendations"], "summary": "Generate Followup Recommendations", "description": "\u751f\u6210\u8ffd\u95ee\u63a8\u8350\n\n\u57fa\u4e8e\u5bf9\u8bdd\u4e0a\u4e0b\u6587\u751f\u6210\u8ffd\u95ee\u5efa\u8bae", "operationId": "generate_followup_recommendations_api_v1_sessions__session_id__recommendations_followup_post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GenerateFollowupRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_list_TaskRecommendationResponse__"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/sessions/{session_id}/recommendations/{recommendation_id}": {"put": {"tags": ["recommendations"], "summary": "Update Recommendation", "description": "\u66f4\u65b0\u63a8\u8350\u72b6\u6001", "operationId": "update_recommendation_api_v1_sessions__session_id__recommendations__recommendation_id__put", "security": [{"HTTPBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Session Id"}}, {"name": "recommendation_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Recommendation Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaskRecommendationUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BaseResponse_TaskRecommendationResponse_"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/web/{full_path}": {"get": {"summary": "Serve Spa", "description": "SPA \u8def\u7531\u56de\u9000\uff0c\u6240\u6709\u975e\u9759\u6001\u8d44\u6e90\u8bf7\u6c42\u90fd\u8fd4\u56de index.html", "operationId": "serve_spa_web__full_path__get", "parameters": [{"name": "full_path", "in": "path", "required": true, "schema": {"type": "string", "title": "Full Path"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/web": {"get": {"summary": "Serve Spa Root", "description": "SPA \u6839\u8def\u5f84", "operationId": "serve_spa_root_web_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"AnalysisSessionCreate": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u4f1a\u8bdd\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u4f1a\u8bdd\u63cf\u8ff0"}, "data_source_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Data Source Id", "description": "\u5173\u8054\u7684\u6570\u636e\u6e90ID\uff08\u53ef\u9009\uff0c\u4ec5\u652f\u6301\u5355\u4e2a\u6570\u636e\u6e90\uff09"}, "config": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Config", "description": "\u4f1a\u8bdd\u914d\u7f6e"}}, "type": "object", "required": ["name"], "title": "AnalysisSessionCreate", "description": "\u521b\u5efa\u5206\u6790\u4f1a\u8bdd\u8bf7\u6c42"}, "AnalysisSessionDetail": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u4f1a\u8bdd\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u4f1a\u8bdd\u63cf\u8ff0"}, "id": {"type": "integer", "title": "Id", "description": "\u4f1a\u8bddID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u6240\u5c5e\u7528\u6237ID"}, "data_source_ids": {"anyOf": [{"items": {"type": "integer"}, "type": "array"}, {"type": "null"}], "title": "Data Source Ids", "description": "\u5173\u8054\u7684\u6570\u636e\u6e90ID\u5217\u8868\uff08\u5185\u90e8\u5b58\u50a8\uff09"}, "config": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Config", "description": "\u4f1a\u8bdd\u914d\u7f6e"}, "status": {"type": "string", "title": "Status", "description": "\u4f1a\u8bdd\u72b6\u6001"}, "message_count": {"type": "integer", "title": "Message Count", "description": "\u6d88\u606f\u6570\u91cf", "default": 0}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}, "data_source": {"anyOf": [{"$ref": "#/components/schemas/DataSourceResponse"}, {"type": "null"}], "description": "\u5173\u8054\u7684\u6570\u636e\u6e90"}, "data_source_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Data Source Id", "description": "\u4ece data_source_ids \u5217\u8868\u4e2d\u63d0\u53d6\u7b2c\u4e00\u4e2a ID", "readOnly": true}}, "type": "object", "required": ["name", "id", "user_id", "status", "data_source_id"], "title": "AnalysisSessionDetail", "description": "\u5206\u6790\u4f1a\u8bdd\u8be6\u60c5\uff08\u5305\u542b\u6570\u636e\u6e90\u4fe1\u606f\uff09"}, "AnalysisSessionResponse": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u4f1a\u8bdd\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u4f1a\u8bdd\u63cf\u8ff0"}, "id": {"type": "integer", "title": "Id", "description": "\u4f1a\u8bddID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u6240\u5c5e\u7528\u6237ID"}, "data_source_ids": {"anyOf": [{"items": {"type": "integer"}, "type": "array"}, {"type": "null"}], "title": "Data Source Ids", "description": "\u5173\u8054\u7684\u6570\u636e\u6e90ID\u5217\u8868\uff08\u5185\u90e8\u5b58\u50a8\uff09"}, "config": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Config", "description": "\u4f1a\u8bdd\u914d\u7f6e"}, "status": {"type": "string", "title": "Status", "description": "\u4f1a\u8bdd\u72b6\u6001"}, "message_count": {"type": "integer", "title": "Message Count", "description": "\u6d88\u606f\u6570\u91cf", "default": 0}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}, "data_source_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Data Source Id", "description": "\u4ece data_source_ids \u5217\u8868\u4e2d\u63d0\u53d6\u7b2c\u4e00\u4e2a ID", "readOnly": true}}, "type": "object", "required": ["name", "id", "user_id", "status", "data_source_id"], "title": "AnalysisSessionResponse", "description": "\u5206\u6790\u4f1a\u8bdd\u54cd\u5e94"}, "AnalysisSessionUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "Name", "description": "\u4f1a\u8bdd\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u4f1a\u8bdd\u63cf\u8ff0"}, "data_source_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Data Source Id", "description": "\u5173\u8054\u7684\u6570\u636e\u6e90ID\uff08\u53ef\u9009\uff0c\u4ec5\u652f\u6301\u5355\u4e2a\u6570\u636e\u6e90\uff09"}, "config": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Config", "description": "\u4f1a\u8bdd\u914d\u7f6e"}}, "type": "object", "title": "AnalysisSessionUpdate", "description": "\u66f4\u65b0\u5206\u6790\u4f1a\u8bdd\u8bf7\u6c42"}, "AutoCreatedRawData": {"properties": {"raw_data_id": {"type": "integer", "title": "Raw Data Id", "description": "\u539f\u59cb\u6570\u636eID"}, "name": {"type": "string", "title": "Name", "description": "\u539f\u59cb\u6570\u636e\u540d\u79f0"}, "table_name": {"type": "string", "title": "Table Name", "description": "\u6765\u6e90\u8868\u540d"}, "status": {"type": "string", "title": "Status", "description": "\u72b6\u6001: created/ready/error"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message", "description": "\u9519\u8bef\u4fe1\u606f\uff08\u5982\u679c\u6709\uff09"}}, "type": "object", "required": ["raw_data_id", "name", "table_name", "status"], "title": "AutoCreatedRawData", "description": "\u81ea\u52a8\u521b\u5efa\u7684 RawData \u7b80\u8981\u4fe1\u606f"}, "BaseResponse_AnalysisSessionDetail_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/AnalysisSessionDetail"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/AnalysisSessionDetail"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[AnalysisSessionDetail]"}, "BaseResponse_AnalysisSessionResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/AnalysisSessionResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/AnalysisSessionResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[AnalysisSessionResponse]"}, "BaseResponse_BatchCreateFromConnectionResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/BatchCreateFromConnectionResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/BatchCreateFromConnectionResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[BatchCreateFromConnectionResponse]"}, "BaseResponse_DataSourcePreviewResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/DataSourcePreviewResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/DataSourcePreviewResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[DataSourcePreviewResponse]"}, "BaseResponse_DataSourceResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/DataSourceResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/DataSourceResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[DataSourceResponse]"}, "BaseResponse_DatabaseConnectionResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[DatabaseConnectionResponse]"}, "BaseResponse_DatabaseConnectionTablesResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionTablesResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionTablesResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[DatabaseConnectionTablesResponse]"}, "BaseResponse_DatabaseConnectionTestResult_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionTestResult"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionTestResult"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[DatabaseConnectionTestResult]"}, "BaseResponse_DatabaseConnectionWithRawResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionWithRawResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionWithRawResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[DatabaseConnectionWithRawResponse]"}, "BaseResponse_DatabaseTableSchemaResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/DatabaseTableSchemaResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/DatabaseTableSchemaResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[DatabaseTableSchemaResponse]"}, "BaseResponse_FilePreviewResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/FilePreviewResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/FilePreviewResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[FilePreviewResponse]"}, "BaseResponse_NoneType_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"type": "null", "title": "Data"}, "err": {"type": "null", "title": "Err"}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[NoneType]"}, "BaseResponse_PageResponse_AnalysisSessionResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_AnalysisSessionResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_AnalysisSessionResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[AnalysisSessionResponse]]"}, "BaseResponse_PageResponse_ChatMessageResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_ChatMessageResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_ChatMessageResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[ChatMessageResponse]]"}, "BaseResponse_PageResponse_DataSourceResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_DataSourceResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_DataSourceResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[DataSourceResponse]]"}, "BaseResponse_PageResponse_DatabaseConnectionResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_DatabaseConnectionResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_DatabaseConnectionResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[DatabaseConnectionResponse]]"}, "BaseResponse_PageResponse_RawDataResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_RawDataResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_RawDataResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[RawDataResponse]]"}, "BaseResponse_PageResponse_TaskRecommendationResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_TaskRecommendationResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_TaskRecommendationResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[TaskRecommendationResponse]]"}, "BaseResponse_PageResponse_UploadedFileResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_UploadedFileResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_UploadedFileResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[UploadedFileResponse]]"}, "BaseResponse_PageResponse_UserResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_UserResponse_"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/PageResponse_UserResponse_"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[PageResponse[UserResponse]]"}, "BaseResponse_RawDataPreviewResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/RawDataPreviewResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/RawDataPreviewResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[RawDataPreviewResponse]"}, "BaseResponse_RawDataResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/RawDataResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/RawDataResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[RawDataResponse]"}, "BaseResponse_SuggestMappingsResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/SuggestMappingsResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/SuggestMappingsResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[SuggestMappingsResponse]"}, "BaseResponse_SuggestTargetFieldsResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/SuggestTargetFieldsResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/SuggestTargetFieldsResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[SuggestTargetFieldsResponse]"}, "BaseResponse_TaskRecommendationResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/TaskRecommendationResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/TaskRecommendationResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[TaskRecommendationResponse]"}, "BaseResponse_Token_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/Token"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/Token"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[Token]"}, "BaseResponse_UploadedFileResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/UploadedFileResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/UploadedFileResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[UploadedFileResponse]"}, "BaseResponse_UploadedFileWithRawDataResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/UploadedFileWithRawDataResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/UploadedFileWithRawDataResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[UploadedFileWithRawDataResponse]"}, "BaseResponse_UserResponse_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"$ref": "#/components/schemas/UserResponse"}, {"type": "null"}]}, "err": {"anyOf": [{"$ref": "#/components/schemas/UserResponse"}, {"type": "null"}]}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[UserResponse]"}, "BaseResponse_dict_str__Any__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Data"}, "err": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Err"}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[dict[str, Any]]"}, "BaseResponse_int_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Data"}, "err": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Err"}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[int]"}, "BaseResponse_list_TaskRecommendationResponse__": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"items": {"$ref": "#/components/schemas/TaskRecommendationResponse"}, "type": "array"}, {"type": "null"}], "title": "Data"}, "err": {"anyOf": [{"items": {"$ref": "#/components/schemas/TaskRecommendationResponse"}, "type": "array"}, {"type": "null"}], "title": "Err"}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[list[TaskRecommendationResponse]]"}, "BaseResponse_str_": {"properties": {"success": {"type": "boolean", "title": "Success"}, "code": {"type": "integer", "title": "Code"}, "msg": {"type": "string", "title": "Msg"}, "data": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Data"}, "err": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Err"}}, "type": "object", "required": ["success", "code", "msg"], "title": "BaseResponse[str]"}, "BatchCreateFromConnectionRequest": {"properties": {"connection_id": {"type": "integer", "title": "Connection Id", "description": "\u6570\u636e\u5e93\u8fde\u63a5ID"}, "tables": {"items": {"$ref": "#/components/schemas/TableSelection"}, "type": "array", "minItems": 1, "title": "Tables", "description": "\u8981\u521b\u5efa\u7684\u8868\u5217\u8868"}, "auto_sync": {"type": "boolean", "title": "Auto Sync", "description": "\u662f\u5426\u81ea\u52a8\u540c\u6b65\u5217\u4fe1\u606f", "default": true}, "name_prefix": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name Prefix", "description": "\u540d\u79f0\u524d\u7f00\uff08\u53ef\u9009\uff09"}}, "type": "object", "required": ["connection_id", "tables"], "title": "BatchCreateFromConnectionRequest", "description": "\u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6279\u91cf\u521b\u5efa\u539f\u59cb\u6570\u636e\u8bf7\u6c42"}, "BatchCreateFromConnectionResponse": {"properties": {"success_count": {"type": "integer", "title": "Success Count", "description": "\u6210\u529f\u521b\u5efa\u7684\u6570\u91cf"}, "failed_count": {"type": "integer", "title": "Failed Count", "description": "\u5931\u8d25\u7684\u6570\u91cf"}, "results": {"items": {"$ref": "#/components/schemas/BatchCreateResult"}, "type": "array", "title": "Results", "description": "\u6bcf\u4e2a\u8868\u7684\u521b\u5efa\u7ed3\u679c"}}, "type": "object", "required": ["success_count", "failed_count"], "title": "BatchCreateFromConnectionResponse", "description": "\u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6279\u91cf\u521b\u5efa\u539f\u59cb\u6570\u636e\u54cd\u5e94"}, "BatchCreateResult": {"properties": {"raw_data_id": {"type": "integer", "title": "Raw Data Id", "description": "\u521b\u5efa\u7684\u539f\u59cb\u6570\u636eID"}, "name": {"type": "string", "title": "Name", "description": "\u539f\u59cb\u6570\u636e\u540d\u79f0"}, "table_name": {"type": "string", "title": "Table Name", "description": "\u8868\u540d"}, "status": {"type": "string", "title": "Status", "description": "\u72b6\u6001: created/syncing/ready/error"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message", "description": "\u9519\u8bef\u4fe1\u606f\uff08\u5982\u679c\u6709\uff09"}}, "type": "object", "required": ["raw_data_id", "name", "table_name", "status"], "title": "BatchCreateResult", "description": "\u6279\u91cf\u521b\u5efa\u7ed3\u679c"}, "Body_upload_file_api_v1_files_upload_post": {"properties": {"file": {"type": "string", "format": "binary", "title": "File", "description": "\u8981\u4e0a\u4f20\u7684\u6587\u4ef6"}}, "type": "object", "required": ["file"], "title": "Body_upload_file_api_v1_files_upload_post"}, "Body_upload_session_file_api_v1_sessions__session_id__files_upload_post": {"properties": {"file": {"type": "string", "format": "binary", "title": "File"}}, "type": "object", "required": ["file"], "title": "Body_upload_session_file_api_v1_sessions__session_id__files_upload_post"}, "ChatMessageCreate": {"properties": {"content": {"type": "string", "minLength": 1, "title": "Content", "description": "\u6d88\u606f\u5185\u5bb9"}}, "type": "object", "required": ["content"], "title": "ChatMessageCreate", "description": "\u521b\u5efa\u5bf9\u8bdd\u6d88\u606f\u8bf7\u6c42\uff08\u7528\u6237\u53d1\u9001\uff09"}, "ChatMessageResponse": {"properties": {"id": {"type": "integer", "title": "Id", "description": "\u6d88\u606fID"}, "session_id": {"type": "integer", "title": "Session Id", "description": "\u6240\u5c5e\u4f1a\u8bddID"}, "message_type": {"type": "string", "title": "Message Type", "description": "\u6d88\u606f\u7c7b\u578b: human/ai/system/tool"}, "content": {"type": "string", "title": "Content", "description": "\u6d88\u606f\u5185\u5bb9"}, "message_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Message Id", "description": "LangChain \u6d88\u606fID"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name", "description": "\u6d88\u606f\u540d\u79f0"}, "tool_calls": {"anyOf": [{"items": {"additionalProperties": true, "type": "object"}, "type": "array"}, {"type": "null"}], "title": "Tool Calls", "description": "\u5de5\u5177\u8c03\u7528\u5217\u8868"}, "usage_metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Usage Metadata", "description": "Token\u4f7f\u7528\u7edf\u8ba1"}, "tool_call_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tool Call Id", "description": "\u5de5\u5177\u8c03\u7528ID"}, "artifact": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Artifact", "description": "\u5de5\u5177\u4ea7\u51fa\u7269(\u56fe\u8868\u3001\u8868\u683c\u7b49)"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}}, "type": "object", "required": ["id", "session_id", "message_type", "content"], "title": "ChatMessageResponse", "description": "\u5bf9\u8bdd\u6d88\u606f\u54cd\u5e94 - \u4e0e LangChain \u6d88\u606f\u683c\u5f0f\u5bf9\u9f50"}, "ColumnSchema": {"properties": {"name": {"type": "string", "title": "Name", "description": "\u5217\u540d"}, "data_type": {"type": "string", "title": "Data Type", "description": "\u6570\u636e\u7c7b\u578b"}, "nullable": {"type": "boolean", "title": "Nullable", "description": "\u662f\u5426\u53ef\u7a7a", "default": true}, "user_type_override": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "User Type Override", "description": "\u7528\u6237\u4fee\u6b63\u7684\u7c7b\u578b"}, "comment": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Comment", "description": "\u5217\u6ce8\u91ca"}}, "type": "object", "required": ["name", "data_type"], "title": "ColumnSchema", "description": "\u5217\u7ed3\u6784"}, "DataSourceCategory": {"type": "string", "enum": ["fact", "dimension", "event", "other"], "title": "DataSourceCategory", "description": "\u6570\u636e\u6e90\u5206\u7c7b"}, "DataSourceCreate": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u6570\u636e\u6e90\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u6570\u636e\u6e90\u63cf\u8ff0"}, "category": {"anyOf": [{"$ref": "#/components/schemas/DataSourceCategory"}, {"type": "null"}], "description": "\u6570\u636e\u6e90\u5206\u7c7b"}, "target_fields": {"items": {"$ref": "#/components/schemas/TargetField"}, "type": "array", "title": "Target Fields", "description": "\u76ee\u6807\u5b57\u6bb5\u5b9a\u4e49"}, "raw_mappings": {"items": {"$ref": "#/components/schemas/FieldMapping"}, "type": "array", "title": "Raw Mappings", "description": "\u539f\u59cb\u6570\u636e\u5b57\u6bb5\u6620\u5c04"}}, "type": "object", "required": ["name"], "title": "DataSourceCreate", "description": "\u521b\u5efa\u6570\u636e\u6e90\u8bf7\u6c42"}, "DataSourcePreviewRequest": {"properties": {"limit": {"type": "integer", "maximum": 1000.0, "minimum": 1.0, "title": "Limit", "description": "\u9884\u89c8\u884c\u6570", "default": 100}}, "type": "object", "title": "DataSourcePreviewRequest", "description": "\u6570\u636e\u6e90\u9884\u89c8\u8bf7\u6c42\uff08\u5408\u5e76\u540e\u7684\u6570\u636e\uff09"}, "DataSourcePreviewResponse": {"properties": {"columns": {"items": {"$ref": "#/components/schemas/TargetField"}, "type": "array", "title": "Columns", "description": "\u5b57\u6bb5\u5b9a\u4e49"}, "rows": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Rows", "description": "\u5408\u5e76\u540e\u7684\u6570\u636e\u884c"}, "source_stats": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Source Stats", "description": "\u5404 Raw \u6e90\u7684\u884c\u6570\u7edf\u8ba1"}, "preview_at": {"type": "string", "title": "Preview At", "description": "\u9884\u89c8\u65f6\u95f4"}}, "type": "object", "required": ["preview_at"], "title": "DataSourcePreviewResponse", "description": "\u6570\u636e\u6e90\u9884\u89c8\u54cd\u5e94"}, "DataSourceResponse": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u6570\u636e\u6e90\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u6570\u636e\u6e90\u63cf\u8ff0"}, "category": {"anyOf": [{"$ref": "#/components/schemas/DataSourceCategory"}, {"type": "null"}], "description": "\u6570\u636e\u6e90\u5206\u7c7b"}, "id": {"type": "integer", "title": "Id", "description": "\u6570\u636e\u6e90ID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u6240\u5c5e\u7528\u6237ID"}, "target_fields": {"anyOf": [{"items": {"$ref": "#/components/schemas/TargetField"}, "type": "array"}, {"type": "null"}], "title": "Target Fields", "description": "\u76ee\u6807\u5b57\u6bb5\u5b9a\u4e49"}, "schema_cache": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Schema Cache", "description": "\u8868\u7ed3\u6784\u7f13\u5b58"}, "raw_mappings": {"anyOf": [{"items": {"$ref": "#/components/schemas/RawMappingResponse"}, "type": "array"}, {"type": "null"}], "title": "Raw Mappings", "description": "\u539f\u59cb\u6570\u636e\u6620\u5c04"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}}, "type": "object", "required": ["name", "id", "user_id"], "title": "DataSourceResponse", "description": "\u6570\u636e\u6e90\u54cd\u5e94"}, "DataSourceUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "Name", "description": "\u6570\u636e\u6e90\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u6570\u636e\u6e90\u63cf\u8ff0"}, "category": {"anyOf": [{"$ref": "#/components/schemas/DataSourceCategory"}, {"type": "null"}], "description": "\u6570\u636e\u6e90\u5206\u7c7b"}, "target_fields": {"anyOf": [{"items": {"$ref": "#/components/schemas/TargetField"}, "type": "array"}, {"type": "null"}], "title": "Target Fields", "description": "\u76ee\u6807\u5b57\u6bb5\u5b9a\u4e49"}, "raw_mappings": {"anyOf": [{"items": {"$ref": "#/components/schemas/FieldMapping"}, "type": "array"}, {"type": "null"}], "title": "Raw Mappings", "description": "\u539f\u59cb\u6570\u636e\u5b57\u6bb5\u6620\u5c04"}}, "type": "object", "title": "DataSourceUpdate", "description": "\u66f4\u65b0\u6570\u636e\u6e90\u8bf7\u6c42"}, "DatabaseConnectionConfig": {"properties": {"db_type": {"$ref": "#/components/schemas/DatabaseType"}, "host": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Host", "description": "\u6570\u636e\u5e93\u4e3b\u673a"}, "port": {"type": "integer", "maximum": 65535.0, "minimum": 1.0, "title": "Port", "description": "\u6570\u636e\u5e93\u7aef\u53e3"}, "database": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Database", "description": "\u6570\u636e\u5e93\u540d"}, "username": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Username", "description": "\u7528\u6237\u540d"}, "password": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Password", "description": "\u5bc6\u7801"}, "extra_params": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Extra Params", "description": "\u989d\u5916\u8fde\u63a5\u53c2\u6570"}}, "type": "object", "required": ["db_type", "host", "port", "database", "username", "password"], "title": "DatabaseConnectionConfig", "description": "\u6570\u636e\u5e93\u8fde\u63a5\u914d\u7f6e"}, "DatabaseConnectionCreate": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u8fde\u63a5\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u8fde\u63a5\u63cf\u8ff0"}, "config": {"$ref": "#/components/schemas/DatabaseConnectionConfig", "description": "\u8fde\u63a5\u914d\u7f6e"}}, "type": "object", "required": ["name", "config"], "title": "DatabaseConnectionCreate", "description": "\u521b\u5efa\u6570\u636e\u5e93\u8fde\u63a5\u8bf7\u6c42"}, "DatabaseConnectionResponse": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u8fde\u63a5\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u8fde\u63a5\u63cf\u8ff0"}, "id": {"type": "integer", "title": "Id", "description": "\u8fde\u63a5ID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u6240\u5c5e\u7528\u6237ID"}, "db_type": {"$ref": "#/components/schemas/DatabaseType"}, "host": {"type": "string", "title": "Host", "description": "\u6570\u636e\u5e93\u4e3b\u673a"}, "port": {"type": "integer", "title": "Port", "description": "\u6570\u636e\u5e93\u7aef\u53e3"}, "database": {"type": "string", "title": "Database", "description": "\u6570\u636e\u5e93\u540d"}, "username": {"type": "string", "title": "Username", "description": "\u7528\u6237\u540d"}, "extra_params": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Extra Params", "description": "\u989d\u5916\u8fde\u63a5\u53c2\u6570"}, "last_tested_at": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Tested At", "description": "\u6700\u540e\u6d4b\u8bd5\u65f6\u95f4"}, "is_active": {"type": "boolean", "title": "Is Active", "description": "\u662f\u5426\u53ef\u7528", "default": true}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}}, "type": "object", "required": ["name", "id", "user_id", "db_type", "host", "port", "database", "username"], "title": "DatabaseConnectionResponse", "description": "\u6570\u636e\u5e93\u8fde\u63a5\u54cd\u5e94\uff08\u4e0d\u8fd4\u56de\u5bc6\u7801\uff09"}, "DatabaseConnectionTablesResponse": {"properties": {"connection_id": {"type": "integer", "title": "Connection Id", "description": "\u8fde\u63a5ID"}, "tables": {"items": {"$ref": "#/components/schemas/DatabaseTableInfo"}, "type": "array", "title": "Tables", "description": "\u8868\u5217\u8868"}}, "type": "object", "required": ["connection_id"], "title": "DatabaseConnectionTablesResponse", "description": "\u6570\u636e\u5e93\u8fde\u63a5\u7684\u8868\u5217\u8868\u54cd\u5e94"}, "DatabaseConnectionTestResult": {"properties": {"success": {"type": "boolean", "title": "Success", "description": "\u662f\u5426\u8fde\u63a5\u6210\u529f"}, "message": {"type": "string", "title": "Message", "description": "\u6d4b\u8bd5\u7ed3\u679c\u6d88\u606f"}, "latency_ms": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Latency Ms", "description": "\u8fde\u63a5\u5ef6\u8fdf\uff08\u6beb\u79d2\uff09"}}, "type": "object", "required": ["success", "message"], "title": "DatabaseConnectionTestResult", "description": "\u6570\u636e\u5e93\u8fde\u63a5\u6d4b\u8bd5\u7ed3\u679c"}, "DatabaseConnectionUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "Name", "description": "\u8fde\u63a5\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u8fde\u63a5\u63cf\u8ff0"}, "config": {"anyOf": [{"$ref": "#/components/schemas/DatabaseConnectionConfig"}, {"type": "null"}], "description": "\u8fde\u63a5\u914d\u7f6e"}}, "type": "object", "title": "DatabaseConnectionUpdate", "description": "\u66f4\u65b0\u6570\u636e\u5e93\u8fde\u63a5\u8bf7\u6c42"}, "DatabaseConnectionWithRawResponse": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u8fde\u63a5\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u8fde\u63a5\u63cf\u8ff0"}, "id": {"type": "integer", "title": "Id", "description": "\u8fde\u63a5ID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u6240\u5c5e\u7528\u6237ID"}, "db_type": {"$ref": "#/components/schemas/DatabaseType"}, "host": {"type": "string", "title": "Host", "description": "\u6570\u636e\u5e93\u4e3b\u673a"}, "port": {"type": "integer", "title": "Port", "description": "\u6570\u636e\u5e93\u7aef\u53e3"}, "database": {"type": "string", "title": "Database", "description": "\u6570\u636e\u5e93\u540d"}, "username": {"type": "string", "title": "Username", "description": "\u7528\u6237\u540d"}, "extra_params": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Extra Params", "description": "\u989d\u5916\u8fde\u63a5\u53c2\u6570"}, "last_tested_at": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Tested At", "description": "\u6700\u540e\u6d4b\u8bd5\u65f6\u95f4"}, "is_active": {"type": "boolean", "title": "Is Active", "description": "\u662f\u5426\u53ef\u7528", "default": true}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}, "auto_raw_results": {"anyOf": [{"items": {"$ref": "#/components/schemas/AutoCreatedRawData"}, "type": "array"}, {"type": "null"}], "title": "Auto Raw Results", "description": "\u81ea\u52a8\u521b\u5efa RawData \u7684\u7ed3\u679c\u5217\u8868"}, "auto_raw_error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Auto Raw Error", "description": "\u81ea\u52a8\u521b\u5efa RawData \u7684\u9519\u8bef\u4fe1\u606f"}}, "type": "object", "required": ["name", "id", "user_id", "db_type", "host", "port", "database", "username"], "title": "DatabaseConnectionWithRawResponse", "description": "\u6570\u636e\u5e93\u8fde\u63a5\u54cd\u5e94\uff08\u5305\u542b\u81ea\u52a8\u521b\u5efa\u7684 RawData \u7ed3\u679c\uff09"}, "DatabaseTableInfo": {"properties": {"schema_name": {"type": "string", "title": "Schema Name", "description": "Schema\u540d\u79f0"}, "table_name": {"type": "string", "title": "Table Name", "description": "\u8868\u540d"}, "table_type": {"type": "string", "title": "Table Type", "description": "\u8868\u7c7b\u578b: TABLE/VIEW", "default": "TABLE"}, "comment": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Comment", "description": "\u8868\u6ce8\u91ca"}}, "type": "object", "required": ["schema_name", "table_name"], "title": "DatabaseTableInfo", "description": "\u6570\u636e\u5e93\u8868\u4fe1\u606f"}, "DatabaseTableSchemaResponse": {"properties": {"connection_id": {"type": "integer", "title": "Connection Id", "description": "\u8fde\u63a5ID"}, "schema_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Schema Name", "description": "Schema \u540d\u79f0"}, "table_name": {"type": "string", "title": "Table Name", "description": "\u8868\u540d"}, "columns": {"items": {"$ref": "#/components/schemas/TableColumnInfo"}, "type": "array", "title": "Columns", "description": "\u5217\u4fe1\u606f"}, "row_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Row Count", "description": "\u884c\u6570\u4f30\u7b97"}}, "type": "object", "required": ["connection_id", "table_name"], "title": "DatabaseTableSchemaResponse", "description": "\u6570\u636e\u5e93\u8868\u7ed3\u6784\u54cd\u5e94"}, "DatabaseType": {"type": "string", "enum": ["mysql", "postgresql"], "title": "DatabaseType", "description": "\u6570\u636e\u5e93\u7c7b\u578b"}, "FieldMapping": {"properties": {"raw_data_id": {"type": "integer", "title": "Raw Data Id", "description": "\u539f\u59cb\u6570\u636eID"}, "mappings": {"additionalProperties": {"anyOf": [{"type": "string"}, {"type": "null"}]}, "type": "object", "title": "Mappings", "description": "\u5b57\u6bb5\u6620\u5c04: {target_field: source_field_or_null}"}, "priority": {"type": "integer", "title": "Priority", "description": "\u4f18\u5148\u7ea7\uff08\u6570\u503c\u8d8a\u5927\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff09", "default": 0}, "is_enabled": {"type": "boolean", "title": "Is Enabled", "description": "\u662f\u5426\u542f\u7528", "default": true}}, "type": "object", "required": ["raw_data_id", "mappings"], "title": "FieldMapping", "description": "\u5355\u4e2a Raw \u7684\u5b57\u6bb5\u6620\u5c04"}, "FieldMappingSuggestionResponse": {"properties": {"target_field": {"type": "string", "title": "Target Field", "description": "\u76ee\u6807\u5b57\u6bb5\u540d"}, "source_field": {"type": "string", "title": "Source Field", "description": "\u63a8\u8350\u7684\u6e90\u5b57\u6bb5\u540d"}, "raw_data_id": {"type": "integer", "title": "Raw Data Id", "description": "\u6765\u6e90 RawData ID"}, "raw_data_name": {"type": "string", "title": "Raw Data Name", "description": "\u6765\u6e90 RawData \u540d\u79f0"}, "confidence": {"type": "number", "maximum": 1.0, "minimum": 0.0, "title": "Confidence", "description": "\u5339\u914d\u7f6e\u4fe1\u5ea6 (0-1)"}, "reason": {"type": "string", "title": "Reason", "description": "\u63a8\u8350\u7406\u7531"}}, "type": "object", "required": ["target_field", "source_field", "raw_data_id", "raw_data_name", "confidence", "reason"], "title": "FieldMappingSuggestionResponse", "description": "\u5355\u4e2a\u5b57\u6bb5\u6620\u5c04\u5efa\u8bae"}, "FilePreviewResponse": {"properties": {"columns": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Columns", "description": "\u5217\u4fe1\u606f"}, "data": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Data", "description": "\u9884\u89c8\u6570\u636e"}, "total_rows": {"type": "integer", "title": "Total Rows", "description": "\u603b\u884c\u6570"}}, "type": "object", "required": ["columns", "data", "total_rows"], "title": "FilePreviewResponse", "description": "\u6587\u4ef6\u9884\u89c8\u54cd\u5e94"}, "FileType": {"type": "string", "enum": ["csv", "excel", "json", "parquet"], "title": "FileType", "description": "\u6587\u4ef6\u7c7b\u578b"}, "GenerateFollowupRequest": {"properties": {"conversation_context": {"type": "string", "title": "Conversation Context", "description": "\u5bf9\u8bdd\u4e0a\u4e0b\u6587"}, "last_result": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Last Result", "description": "\u4e0a\u6b21\u5206\u6790\u7ed3\u679c"}, "max_count": {"type": "integer", "maximum": 5.0, "minimum": 1.0, "title": "Max Count", "description": "\u6700\u5927\u63a8\u8350\u6570\u91cf", "default": 3}, "trigger_message_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Trigger Message Id", "description": "\u89e6\u53d1\u6d88\u606fID"}}, "type": "object", "required": ["conversation_context"], "title": "GenerateFollowupRequest", "description": "\u751f\u6210\u8ffd\u95ee\u63a8\u8350\u8bf7\u6c42"}, "GenerateRecommendationsRequest": {"properties": {"max_count": {"type": "integer", "maximum": 10.0, "minimum": 1.0, "title": "Max Count", "description": "\u6700\u5927\u63a8\u8350\u6570\u91cf", "default": 5}, "force_regenerate": {"type": "boolean", "title": "Force Regenerate", "description": "\u662f\u5426\u5f3a\u5236\u91cd\u65b0\u751f\u6210\uff08\u4f1a\u6e05\u7406\u73b0\u6709pending\u63a8\u8350\uff09", "default": false}}, "type": "object", "title": "GenerateRecommendationsRequest", "description": "\u751f\u6210\u63a8\u8350\u8bf7\u6c42"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "LoginRequest": {"properties": {"username": {"type": "string", "maxLength": 50, "minLength": 3, "title": "Username", "description": "\u7528\u6237\u540d"}, "password": {"type": "string", "maxLength": 128, "minLength": 6, "title": "Password", "description": "\u5bc6\u7801"}}, "type": "object", "required": ["username", "password"], "title": "LoginRequest", "description": "\u767b\u5f55\u8bf7\u6c42"}, "PageResponse_AnalysisSessionResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/AnalysisSessionResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[AnalysisSessionResponse]"}, "PageResponse_ChatMessageResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/ChatMessageResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[ChatMessageResponse]"}, "PageResponse_DataSourceResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/DataSourceResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[DataSourceResponse]"}, "PageResponse_DatabaseConnectionResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/DatabaseConnectionResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[DatabaseConnectionResponse]"}, "PageResponse_RawDataResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/RawDataResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[RawDataResponse]"}, "PageResponse_TaskRecommendationResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/TaskRecommendationResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[TaskRecommendationResponse]"}, "PageResponse_UploadedFileResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/UploadedFileResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[UploadedFileResponse]"}, "PageResponse_UserResponse_": {"properties": {"page_num": {"type": "integer", "title": "Page Num", "description": "\u5f53\u524d\u9875\u7801", "default": 1}, "page_size": {"type": "integer", "title": "Page Size", "description": "\u6bcf\u9875\u6570\u91cf", "default": 10}, "total": {"type": "integer", "title": "Total", "description": "\u603b\u8bb0\u5f55\u6570", "default": 0}, "items": {"items": {"$ref": "#/components/schemas/UserResponse"}, "type": "array", "title": "Items", "description": "\u5206\u9875\u6570\u636e"}}, "type": "object", "title": "PageResponse[UserResponse]"}, "PasswordChange": {"properties": {"old_password": {"type": "string", "maxLength": 128, "minLength": 6, "title": "Old Password", "description": "\u65e7\u5bc6\u7801"}, "new_password": {"type": "string", "maxLength": 128, "minLength": 6, "title": "New Password", "description": "\u65b0\u5bc6\u7801"}}, "type": "object", "required": ["old_password", "new_password"], "title": "PasswordChange", "description": "\u4fee\u6539\u5bc6\u7801\u8bf7\u6c42"}, "RawDataColumnUpdate": {"properties": {"columns": {"items": {"$ref": "#/components/schemas/ColumnSchema"}, "type": "array", "title": "Columns", "description": "\u5217\u7ed3\u6784\u5217\u8868\uff08\u652f\u6301\u4fee\u6b63\u7c7b\u578b\uff09"}}, "type": "object", "required": ["columns"], "title": "RawDataColumnUpdate", "description": "\u66f4\u65b0\u5217\u7c7b\u578b\u8bf7\u6c42"}, "RawDataCreate": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u539f\u59cb\u6570\u636e\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u539f\u59cb\u6570\u636e\u63cf\u8ff0"}, "raw_type": {"$ref": "#/components/schemas/RawDataType", "description": "\u539f\u59cb\u6570\u636e\u7c7b\u578b: database_table/file"}, "database_table_config": {"anyOf": [{"$ref": "#/components/schemas/RawDataDatabaseTableConfig"}, {"type": "null"}], "description": "\u6570\u636e\u5e93\u8868\u914d\u7f6e\uff08raw_type=database_table \u65f6\u5fc5\u586b\uff09"}, "file_config": {"anyOf": [{"$ref": "#/components/schemas/RawDataFileConfig"}, {"type": "null"}], "description": "\u6587\u4ef6\u914d\u7f6e\uff08raw_type=file \u65f6\u5fc5\u586b\uff09"}}, "type": "object", "required": ["name", "raw_type"], "title": "RawDataCreate", "description": "\u521b\u5efa\u539f\u59cb\u6570\u636e\u8bf7\u6c42"}, "RawDataDatabaseTableConfig": {"properties": {"connection_id": {"type": "integer", "title": "Connection Id", "description": "\u6570\u636e\u5e93\u8fde\u63a5ID"}, "schema_name": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Schema Name", "description": "Schema\u540d\u79f0"}, "table_name": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Table Name", "description": "\u8868\u540d"}, "custom_sql": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Custom Sql", "description": "\u81ea\u5b9a\u4e49SQL\u67e5\u8be2\uff08\u53ef\u9009\uff09"}}, "type": "object", "required": ["connection_id"], "title": "RawDataDatabaseTableConfig", "description": "\u6570\u636e\u5e93\u8868\u7c7b\u578b\u914d\u7f6e"}, "RawDataFileConfig": {"properties": {"file_id": {"type": "integer", "title": "File Id", "description": "\u4e0a\u4f20\u6587\u4ef6ID"}}, "type": "object", "required": ["file_id"], "title": "RawDataFileConfig", "description": "\u6587\u4ef6\u7c7b\u578b\u914d\u7f6e"}, "RawDataInfo": {"properties": {"id": {"type": "integer", "title": "Id", "description": "RawData ID"}, "name": {"type": "string", "title": "Name", "description": "RawData \u540d\u79f0"}, "status": {"type": "string", "title": "Status", "description": "\u72b6\u6001"}}, "type": "object", "required": ["id", "name", "status"], "title": "RawDataInfo", "description": "\u81ea\u52a8\u521b\u5efa\u7684 RawData \u7b80\u8981\u4fe1\u606f"}, "RawDataPreviewRequest": {"properties": {"limit": {"type": "integer", "maximum": 1000.0, "minimum": 1.0, "title": "Limit", "description": "\u9884\u89c8\u884c\u6570", "default": 100}}, "type": "object", "title": "RawDataPreviewRequest", "description": "\u539f\u59cb\u6570\u636e\u9884\u89c8\u8bf7\u6c42"}, "RawDataPreviewResponse": {"properties": {"columns": {"items": {"$ref": "#/components/schemas/ColumnSchema"}, "type": "array", "title": "Columns", "description": "\u5217\u7ed3\u6784"}, "rows": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Rows", "description": "\u6570\u636e\u884c"}, "total_rows": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Total Rows", "description": "\u603b\u884c\u6570\uff08\u4f30\u7b97\uff09"}, "preview_at": {"type": "string", "title": "Preview At", "description": "\u9884\u89c8\u65f6\u95f4"}}, "type": "object", "required": ["preview_at"], "title": "RawDataPreviewResponse", "description": "\u539f\u59cb\u6570\u636e\u9884\u89c8\u54cd\u5e94"}, "RawDataResponse": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u539f\u59cb\u6570\u636e\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u539f\u59cb\u6570\u636e\u63cf\u8ff0"}, "raw_type": {"$ref": "#/components/schemas/RawDataType", "description": "\u539f\u59cb\u6570\u636e\u7c7b\u578b: database_table/file"}, "id": {"type": "integer", "title": "Id", "description": "\u539f\u59cb\u6570\u636eID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u6240\u5c5e\u7528\u6237ID"}, "connection_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Connection Id", "description": "\u6570\u636e\u5e93\u8fde\u63a5ID"}, "schema_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Schema Name", "description": "Schema\u540d\u79f0"}, "table_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Table Name", "description": "\u8868\u540d"}, "custom_sql": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Custom Sql", "description": "\u81ea\u5b9a\u4e49SQL"}, "file_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "File Id", "description": "\u4e0a\u4f20\u6587\u4ef6ID"}, "columns_schema": {"anyOf": [{"items": {"$ref": "#/components/schemas/ColumnSchema"}, "type": "array"}, {"type": "null"}], "title": "Columns Schema", "description": "\u5217\u7ed3\u6784\u4fe1\u606f"}, "row_count_estimate": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Row Count Estimate", "description": "\u4f30\u7b97\u884c\u6570"}, "synced_at": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Synced At", "description": "\u6700\u540e\u540c\u6b65\u65f6\u95f4"}, "status": {"type": "string", "title": "Status", "description": "\u72b6\u6001: pending/syncing/ready/error", "default": "pending"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message", "description": "\u9519\u8bef\u4fe1\u606f"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}}, "type": "object", "required": ["name", "raw_type", "id", "user_id"], "title": "RawDataResponse", "description": "\u539f\u59cb\u6570\u636e\u54cd\u5e94"}, "RawDataType": {"type": "string", "enum": ["database_table", "file"], "title": "RawDataType", "description": "\u539f\u59cb\u6570\u636e\u7c7b\u578b"}, "RawDataUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "Name", "description": "\u539f\u59cb\u6570\u636e\u540d\u79f0"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u539f\u59cb\u6570\u636e\u63cf\u8ff0"}, "database_table_config": {"anyOf": [{"$ref": "#/components/schemas/RawDataDatabaseTableConfig"}, {"type": "null"}], "description": "\u6570\u636e\u5e93\u8868\u914d\u7f6e"}, "file_config": {"anyOf": [{"$ref": "#/components/schemas/RawDataFileConfig"}, {"type": "null"}], "description": "\u6587\u4ef6\u914d\u7f6e"}}, "type": "object", "title": "RawDataUpdate", "description": "\u66f4\u65b0\u539f\u59cb\u6570\u636e\u8bf7\u6c42"}, "RawMappingResponse": {"properties": {"id": {"type": "integer", "title": "Id", "description": "\u6620\u5c04ID"}, "raw_data_id": {"type": "integer", "title": "Raw Data Id", "description": "\u539f\u59cb\u6570\u636eID"}, "raw_data_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Raw Data Name", "description": "\u539f\u59cb\u6570\u636e\u540d\u79f0"}, "field_mappings": {"additionalProperties": {"anyOf": [{"type": "string"}, {"type": "null"}]}, "type": "object", "title": "Field Mappings", "description": "\u5b57\u6bb5\u6620\u5c04"}, "priority": {"type": "integer", "title": "Priority", "description": "\u4f18\u5148\u7ea7", "default": 0}, "is_enabled": {"type": "boolean", "title": "Is Enabled", "description": "\u662f\u5426\u542f\u7528", "default": true}}, "type": "object", "required": ["id", "raw_data_id"], "title": "RawMappingResponse", "description": "Raw \u6620\u5c04\u54cd\u5e94"}, "RefreshTokenRequest": {"properties": {"refresh_token": {"type": "string", "title": "Refresh Token", "description": "\u5237\u65b0\u4ee4\u724c"}}, "type": "object", "required": ["refresh_token"], "title": "RefreshTokenRequest", "description": "\u5237\u65b0\u4ee4\u724c\u8bf7\u6c42"}, "SuggestMappingsRequest": {"properties": {"target_fields": {"items": {"$ref": "#/components/schemas/TargetField"}, "type": "array", "minItems": 1, "title": "Target Fields", "description": "\u76ee\u6807\u5b57\u6bb5\u5217\u8868"}, "raw_data_ids": {"items": {"type": "integer"}, "type": "array", "minItems": 1, "title": "Raw Data Ids", "description": "\u539f\u59cb\u6570\u636eID\u5217\u8868"}}, "type": "object", "required": ["target_fields", "raw_data_ids"], "title": "SuggestMappingsRequest", "description": "\u5b57\u6bb5\u6620\u5c04\u5efa\u8bae\u8bf7\u6c42"}, "SuggestMappingsResponse": {"properties": {"suggestions": {"items": {"$ref": "#/components/schemas/FieldMappingSuggestionResponse"}, "type": "array", "title": "Suggestions", "description": "\u5b57\u6bb5\u6620\u5c04\u5efa\u8bae\u5217\u8868"}}, "type": "object", "title": "SuggestMappingsResponse", "description": "\u5b57\u6bb5\u6620\u5c04\u5efa\u8bae\u54cd\u5e94"}, "SuggestTargetFieldsRequest": {"properties": {"raw_data_ids": {"items": {"type": "integer"}, "type": "array", "minItems": 1, "title": "Raw Data Ids", "description": "\u539f\u59cb\u6570\u636eID\u5217\u8868"}}, "type": "object", "required": ["raw_data_ids"], "title": "SuggestTargetFieldsRequest", "description": "\u4ece\u539f\u59cb\u6570\u636e\u63a8\u65ad\u76ee\u6807\u5b57\u6bb5\u8bf7\u6c42"}, "SuggestTargetFieldsResponse": {"properties": {"fields": {"items": {"$ref": "#/components/schemas/SuggestedTargetField"}, "type": "array", "title": "Fields", "description": "\u63a8\u8350\u7684\u76ee\u6807\u5b57\u6bb5\u5217\u8868"}}, "type": "object", "title": "SuggestTargetFieldsResponse", "description": "\u63a8\u65ad\u76ee\u6807\u5b57\u6bb5\u54cd\u5e94"}, "SuggestedTargetField": {"properties": {"name": {"type": "string", "title": "Name", "description": "\u5b57\u6bb5\u540d"}, "data_type": {"type": "string", "title": "Data Type", "description": "\u6570\u636e\u7c7b\u578b"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u5b57\u6bb5\u63cf\u8ff0"}, "source_count": {"type": "integer", "title": "Source Count", "description": "\u51fa\u73b0\u5728\u591a\u5c11\u4e2a\u6570\u636e\u6e90\u4e2d", "default": 1}}, "type": "object", "required": ["name", "data_type"], "title": "SuggestedTargetField", "description": "\u63a8\u8350\u7684\u76ee\u6807\u5b57\u6bb5"}, "TableColumnInfo": {"properties": {"name": {"type": "string", "title": "Name", "description": "\u5217\u540d"}, "data_type": {"type": "string", "title": "Data Type", "description": "\u6570\u636e\u7c7b\u578b"}, "nullable": {"type": "boolean", "title": "Nullable", "description": "\u662f\u5426\u53ef\u7a7a", "default": true}, "primary_key": {"type": "boolean", "title": "Primary Key", "description": "\u662f\u5426\u4e3b\u952e", "default": false}, "comment": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Comment", "description": "\u5217\u6ce8\u91ca"}}, "type": "object", "required": ["name", "data_type"], "title": "TableColumnInfo", "description": "\u6570\u636e\u5e93\u8868\u7684\u5217\u4fe1\u606f"}, "TableSelection": {"properties": {"schema_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Schema Name", "description": "Schema \u540d\u79f0"}, "table_name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Table Name", "description": "\u8868\u540d"}, "custom_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Custom Name", "description": "\u81ea\u5b9a\u4e49\u663e\u793a\u540d\u79f0\uff08\u53ef\u9009\uff09"}}, "type": "object", "required": ["table_name"], "title": "TableSelection", "description": "\u8868\u9009\u62e9"}, "TargetField": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "\u5b57\u6bb5\u540d"}, "data_type": {"type": "string", "title": "Data Type", "description": "\u6570\u636e\u7c7b\u578b"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "\u5b57\u6bb5\u63cf\u8ff0"}}, "type": "object", "required": ["name", "data_type"], "title": "TargetField", "description": "\u76ee\u6807\u5b57\u6bb5\u5b9a\u4e49"}, "TaskRecommendationResponse": {"properties": {"id": {"type": "integer", "title": "Id"}, "session_id": {"type": "integer", "title": "Session Id"}, "title": {"type": "string", "title": "Title"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "category": {"type": "string", "title": "Category"}, "source_type": {"type": "string", "title": "Source Type"}, "priority": {"type": "integer", "title": "Priority"}, "status": {"type": "string", "title": "Status"}, "trigger_message_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Trigger Message Id"}, "create_time": {"type": "string", "format": "date-time", "title": "Create Time"}, "update_time": {"type": "string", "format": "date-time", "title": "Update Time"}}, "type": "object", "required": ["id", "session_id", "title", "description", "category", "source_type", "priority", "status", "trigger_message_id", "create_time", "update_time"], "title": "TaskRecommendationResponse", "description": "\u63a8\u8350\u54cd\u5e94"}, "TaskRecommendationUpdate": {"properties": {"status": {"type": "string", "title": "Status", "description": "\u72b6\u6001\uff1apending/selected/dismissed"}}, "type": "object", "required": ["status"], "title": "TaskRecommendationUpdate", "description": "\u66f4\u65b0\u63a8\u8350"}, "Token": {"properties": {"id": {"type": "integer", "title": "Id"}, "nickname": {"type": "string", "title": "Nickname"}, "access_token": {"type": "string", "title": "Access Token"}, "refresh_token": {"type": "string", "title": "Refresh Token"}, "token_type": {"type": "string", "title": "Token Type", "default": "bearer"}}, "type": "object", "required": ["id", "nickname", "access_token", "refresh_token"], "title": "Token", "description": "Token\u57fa\u7840\u6570\u636e"}, "UploadedFileResponse": {"properties": {"id": {"type": "integer", "title": "Id", "description": "\u6587\u4ef6ID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u4e0a\u4f20\u7528\u6237ID"}, "original_name": {"type": "string", "title": "Original Name", "description": "\u539f\u59cb\u6587\u4ef6\u540d"}, "object_key": {"type": "string", "title": "Object Key", "description": "MinIO\u5bf9\u8c61\u5b58\u50a8Key"}, "file_type": {"$ref": "#/components/schemas/FileType"}, "file_size": {"type": "integer", "title": "File Size", "description": "\u6587\u4ef6\u5927\u5c0f(\u5b57\u8282)"}, "mime_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mime Type", "description": "MIME\u7c7b\u578b"}, "row_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Row Count", "description": "\u6570\u636e\u884c\u6570"}, "column_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Column Count", "description": "\u6570\u636e\u5217\u6570"}, "columns_info": {"anyOf": [{"items": {"additionalProperties": true, "type": "object"}, "type": "array"}, {"type": "null"}], "title": "Columns Info", "description": "\u5217\u4fe1\u606f"}, "status": {"type": "string", "title": "Status", "description": "\u5904\u7406\u72b6\u6001"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message", "description": "\u9519\u8bef\u4fe1\u606f"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}}, "type": "object", "required": ["id", "user_id", "original_name", "object_key", "file_type", "file_size", "status"], "title": "UploadedFileResponse", "description": "\u4e0a\u4f20\u6587\u4ef6\u54cd\u5e94"}, "UploadedFileWithRawDataResponse": {"properties": {"id": {"type": "integer", "title": "Id", "description": "\u6587\u4ef6ID"}, "user_id": {"type": "integer", "title": "User Id", "description": "\u4e0a\u4f20\u7528\u6237ID"}, "original_name": {"type": "string", "title": "Original Name", "description": "\u539f\u59cb\u6587\u4ef6\u540d"}, "object_key": {"type": "string", "title": "Object Key", "description": "MinIO\u5bf9\u8c61\u5b58\u50a8Key"}, "file_type": {"$ref": "#/components/schemas/FileType"}, "file_size": {"type": "integer", "title": "File Size", "description": "\u6587\u4ef6\u5927\u5c0f(\u5b57\u8282)"}, "mime_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mime Type", "description": "MIME\u7c7b\u578b"}, "row_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Row Count", "description": "\u6570\u636e\u884c\u6570"}, "column_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Column Count", "description": "\u6570\u636e\u5217\u6570"}, "columns_info": {"anyOf": [{"items": {"additionalProperties": true, "type": "object"}, "type": "array"}, {"type": "null"}], "title": "Columns Info", "description": "\u5217\u4fe1\u606f"}, "status": {"type": "string", "title": "Status", "description": "\u5904\u7406\u72b6\u6001"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message", "description": "\u9519\u8bef\u4fe1\u606f"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}, "auto_raw_data": {"anyOf": [{"$ref": "#/components/schemas/RawDataInfo"}, {"type": "null"}], "description": "\u81ea\u52a8\u521b\u5efa\u7684 RawData"}}, "type": "object", "required": ["id", "user_id", "original_name", "object_key", "file_type", "file_size", "status"], "title": "UploadedFileWithRawDataResponse", "description": "\u4e0a\u4f20\u6587\u4ef6\u54cd\u5e94\uff08\u542b\u81ea\u52a8\u521b\u5efa\u7684 RawData\uff09"}, "UserCreate": {"properties": {"username": {"type": "string", "maxLength": 50, "minLength": 3, "title": "Username", "description": "\u7528\u6237\u540d"}, "email": {"type": "string", "format": "email", "title": "Email", "description": "\u90ae\u7bb1"}, "nickname": {"type": "string", "maxLength": 50, "minLength": 1, "title": "Nickname", "description": "\u6635\u79f0"}, "password": {"type": "string", "maxLength": 128, "minLength": 6, "title": "Password", "description": "\u5bc6\u7801"}, "is_active": {"type": "boolean", "title": "Is Active", "description": "\u662f\u5426\u6fc0\u6d3b", "default": true}, "is_superuser": {"type": "boolean", "title": "Is Superuser", "description": "\u662f\u5426\u8d85\u7ea7\u7ba1\u7406\u5458", "default": false}}, "type": "object", "required": ["username", "email", "nickname", "password"], "title": "UserCreate", "description": "\u521b\u5efa\u7528\u6237\u8bf7\u6c42"}, "UserResponse": {"properties": {"username": {"type": "string", "maxLength": 50, "minLength": 3, "title": "Username", "description": "\u7528\u6237\u540d"}, "email": {"type": "string", "format": "email", "title": "Email", "description": "\u90ae\u7bb1"}, "nickname": {"type": "string", "maxLength": 50, "minLength": 1, "title": "Nickname", "description": "\u6635\u79f0"}, "id": {"type": "integer", "title": "Id", "description": "\u7528\u6237ID"}, "is_active": {"type": "boolean", "title": "Is Active", "description": "\u662f\u5426\u6fc0\u6d3b"}, "is_superuser": {"type": "boolean", "title": "Is Superuser", "description": "\u662f\u5426\u8d85\u7ea7\u7ba1\u7406\u5458"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Create Time", "description": "\u521b\u5efa\u65f6\u95f4"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Update Time", "description": "\u66f4\u65b0\u65f6\u95f4"}}, "type": "object", "required": ["username", "email", "nickname", "id", "is_active", "is_superuser"], "title": "UserResponse", "description": "\u7528\u6237\u54cd\u5e94"}, "UserUpdate": {"properties": {"email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email", "description": "\u90ae\u7bb1"}, "nickname": {"anyOf": [{"type": "string", "maxLength": 50, "minLength": 1}, {"type": "null"}], "title": "Nickname", "description": "\u6635\u79f0"}, "is_active": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active", "description": "\u662f\u5426\u6fc0\u6d3b"}, "is_superuser": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Superuser", "description": "\u662f\u5426\u8d85\u7ea7\u7ba1\u7406\u5458"}}, "type": "object", "title": "UserUpdate", "description": "\u66f4\u65b0\u7528\u6237\u8bf7\u6c42"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}, "securitySchemes": {"HTTPBearer": {"type": "http", "scheme": "bearer"}}}}